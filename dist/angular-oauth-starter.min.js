!function(t){"use strict";function e(t){return{restrict:"A",link:function(e,n,r){function u(){n.addClass("hidden");var e=r.claimsRequired.split(",");_.some(e,function(e){return t.userHasClaim(e)})&&n.removeClass("hidden")}u(),e.$on("authCacheUpdated",function(){u()})}}}t.module("auth-starter").directive("claimsRequired",e),e.$inject=["AuthService"]}(angular),function(t){"use strict";function e(t,e,n){function r(t){t.header=t.headers||{};var e=n.get("auth");return e&&(t.headers.Authorization="Bearer "+e.token),t}function u(n){return 401===n.status&&e.path("/"),t.reject(n)}return{request:r,responseError:u}}t.module("auth-starter").factory("AuthInterceptor",e),e.$inject=["$q","$location","localStorageService"]}(angular),function(t){"use strict";t.module("auth-starter",["angular-jwt","LocalStorageModule"])}(angular),function(t){"use strict";function e(){var t="";this.setTokenEndpoint=function(e){t=e},this.$get=["$http","$q","jwtHelper","localStorageService","$rootScope",function(e,r,u,o,a){return new n(e,r,u,o,a,t)}]}function n(t,e,n,r,u,o){function a(t,n){return e.when(m||(f?f.promise:i(t,n)))}function i(n,a){return f=e.defer(),t.post(o,{username:n,password:a}).then(function(t){r.set("jwt",{token:t.data.access_token}),h(),u.$broadcast("authCacheUpdated"),f.resolve(m),f=null},function(t){s(),f.reject(t),f=null}),f.promise}function c(){return e.when(m||(f?f.promise:null))}function s(){r.remove("jwt"),m=null}function l(t){return m&&m.claims?_.contains(m.claims,t):!1}function d(){return h(),m&&m.isAuthenticated}function h(){m=null;var t=r.get("jwt");if(t){var e=n.decodeToken(t.token);m={},m.isAuthenticated=!0,m.username=e.sub,m.claims=e.role}}return{login:a,logout:s,getAuth:c,userHasClaim:l,userIsAuthenticated:d};var f,m}t.module("auth-starter").provider("AuthService",e)}(angular);